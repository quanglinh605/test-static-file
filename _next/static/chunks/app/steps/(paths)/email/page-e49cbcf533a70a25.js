(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2953],{8135:(e,a,t)=>{Promise.resolve().then(t.bind(t,8612))},8612:(e,a,t)=>{"use strict";t.d(a,{StepForm:()=>f});var s=t(5155),l=t(4035),r=t(5398),d=t(1691),n=t(2115),o=t(5855),i=t(9602),u=t(5494),c=t(3391),m=t(6724),p=t(287);function f(){let{leadData:e,email:a,oldStep:t}=(0,c.d4)(e=>({leadData:e.appData.leadData,email:e.appData.leadResponse.email,oldStep:e.appData.leadResponse.step}),c.bN),[f,x]=(0,n.useState)(""),[h,g]=(0,n.useState)([]),{form:N,dispatch:b,nextStep:y,loading:j}=(0,p.s)(r.y4,{email:null!=a?a:""}),v=N.watch("email");(0,n.useEffect)(()=>{g((0,i.oI)(v,u.nZ))},[v]);let w=(0,n.useCallback)(e=>{N.setValue("email",e)},[N]);async function _(a){b((0,m.y9)({...e,...a})).unwrap().then(()=>{t&&t>=13?y("/steps/welcome-back"):t&&t>=12?y((0,i.BS)(null!=t?t:3)):y()}).catch(()=>console.error("Failed to submit lead"))}return(0,s.jsx)(l.lV,{...N,children:(0,s.jsxs)("form",{onSubmit:N.handleSubmit(_),className:"w-full text-left space-y-4",children:[(0,s.jsx)(l.zB,{control:N.control,name:"email",render:e=>{let{field:a}=e;return(0,s.jsxs)(l.eI,{className:"space-y-1",children:[(0,s.jsx)(l.lR,{children:"Your email address"}),(0,s.jsx)(l.MJ,{children:(0,s.jsx)(o.j,{...a,selectedValue:f,onSelectedValueChange:x,searchValue:v,onSearchValueChange:w,items:h,placeholder:"Enter your email..."})}),(0,s.jsx)(l.C5,{})]})}}),(0,s.jsx)(d.A,{loading:j,disabled:j})]})})}},1691:(e,a,t)=>{"use strict";t.d(a,{A:()=>d});var s=t(5155),l=t(4085),r=t(7321);t(2115);let d=e=>{let{children:a,...t}=e;return(0,s.jsx)(l.$,{variant:"primary",...t,className:"w-full text-white text-lg rounded-md [text-shadow:_0_2px_4px_rgb(99_102_241_/_0.8)] border-yellow bg-lightYellow",type:"submit",children:null!=a?a:(0,s.jsxs)(s.Fragment,{children:["Next step ",(0,s.jsx)(r.A,{size:32})]})})}},5855:(e,a,t)=>{"use strict";t.d(a,{j:()=>_});var s=t(5155),l=t(9602),r=t(7859),d=t(7193),n=t(2115),o=t(2591),i=t(6217),u=t(689);i.bL,i.l9;let c=i.ZL;i.bm;let m=n.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(i.hJ,{ref:a,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r})});m.displayName=i.hJ.displayName,n.forwardRef((e,a)=>{let{className:t,children:r,...d}=e;return(0,s.jsxs)(c,{children:[(0,s.jsx)(m,{}),(0,s.jsxs)(i.UC,{ref:a,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...d,children:[r,(0,s.jsxs)(i.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(u.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}).displayName=i.UC.displayName,n.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(i.hE,{ref:a,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",t),...r})}).displayName=i.hE.displayName,n.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(i.VY,{ref:a,className:(0,l.cn)("text-sm text-muted-foreground",t),...r})}).displayName=i.VY.displayName;let p=n.forwardRef((e,a)=>{let{className:t,...d}=e;return(0,s.jsx)(r.uB,{ref:a,className:(0,l.cn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...d})});p.displayName=r.uB.displayName,n.forwardRef((e,a)=>{let{className:t,...d}=e;return(0,s.jsxs)("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[(0,s.jsx)(o.A,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,s.jsx)(r.uB.Input,{ref:a,className:(0,l.cn)("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...d})]})}).displayName=r.uB.Input.displayName;let f=n.forwardRef((e,a)=>{let{className:t,...d}=e;return(0,s.jsx)(r.uB.List,{ref:a,className:(0,l.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...d})});f.displayName=r.uB.List.displayName;let x=n.forwardRef((e,a)=>(0,s.jsx)(r.uB.Empty,{ref:a,className:"py-6 text-center text-sm",...e}));x.displayName=r.uB.Empty.displayName;let h=n.forwardRef((e,a)=>{let{className:t,...d}=e;return(0,s.jsx)(r.uB.Group,{ref:a,className:(0,l.cn)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...d})});h.displayName=r.uB.Group.displayName,n.forwardRef((e,a)=>{let{className:t,...d}=e;return(0,s.jsx)(r.uB.Separator,{ref:a,className:(0,l.cn)("-mx-1 h-px bg-border",t),...d})}).displayName=r.uB.Separator.displayName;let g=n.forwardRef((e,a)=>{let{className:t,...d}=e;return(0,s.jsx)(r.uB.Item,{ref:a,className:(0,l.cn)("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t),...d})});g.displayName=r.uB.Item.displayName;var N=t(2336),b=t(532);let y=b.bL;b.l9;let j=b.Mz,v=n.forwardRef((e,a)=>{let{className:t,align:r="center",sideOffset:d=4,...n}=e;return(0,s.jsx)(b.ZL,{children:(0,s.jsx)(b.UC,{ref:a,align:r,sideOffset:d,className:(0,l.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})})});function w(e){let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,l.cn)("animate-pulse rounded-md bg-primary/10",a),...t})}function _(e){let{selectedValue:a,onSelectedValueChange:t,searchValue:o,onSearchValueChange:i,items:u,isLoading:c,emptyMessage:m="No items.",placeholder:b="Search..."}=e,[_,k]=(0,n.useState)(!1),B=(0,n.useMemo)(()=>u.reduce((e,a)=>(e[a.value]=a.label,e),{}),[u]),C=e=>{if(e===a);else{var s;t(e),i(null!==(s=B[e])&&void 0!==s?s:"")}k(!1)};return(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsx)(y,{open:_,onOpenChange:k,children:(0,s.jsxs)(p,{shouldFilter:!1,children:[(0,s.jsx)(j,{asChild:!0,children:(0,s.jsx)(r.uB.Input,{asChild:!0,value:o,onValueChange:i,onKeyDown:e=>k("Escape"!==e.key),onBlur:e=>{var t;(null===(t=e.relatedTarget)||void 0===t?void 0:t.hasAttribute("cmdk-list"))||B[a]},children:(0,s.jsx)(N.p,{placeholder:b,isLoading:c})})}),!_&&(0,s.jsx)(f,{"aria-hidden":"true",className:"hidden"}),(0,s.jsx)(v,{asChild:!0,onOpenAutoFocus:e=>e.preventDefault(),onInteractOutside:e=>{e.target instanceof Element&&e.target.hasAttribute("cmdk-input")&&e.preventDefault()},className:"w-[--radix-popover-trigger-width] p-0",children:(0,s.jsxs)(f,{children:[c&&(0,s.jsx)(r.uB.Loading,{children:(0,s.jsx)("div",{className:"p-1",children:(0,s.jsx)(w,{className:"h-6 w-full"})})}),u.length>0&&!c?(0,s.jsx)(h,{children:u.map(e=>(0,s.jsxs)(g,{value:e.value,onMouseDown:e=>e.preventDefault(),onSelect:C,children:[(0,s.jsx)(d.A,{className:(0,l.cn)("mr-2 h-4 w-4",a===e.value?"opacity-100":"opacity-0")}),e.label]},e.value))}):null,c?null:(0,s.jsx)(x,{children:null!=m?m:"No items."})]})})]})})})}v.displayName=b.UC.displayName},2336:(e,a,t)=>{"use strict";t.d(a,{p:()=>n});var s=t(5155),l=t(2115),r=t(9602),d=t(2783);let n=l.forwardRef((e,a)=>{let{className:t,type:l,isLoading:n,...o}=e;return(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:l,className:(0,r.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 pr-10 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...o}),n&&(0,s.jsx)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:(0,s.jsx)(d.A,{className:"text-gray-500 w-5 h-5 animate-spin"})})]})});n.displayName="Input"}},e=>{var a=a=>e(e.s=a);e.O(0,[3852,8181,9442,9341,996,9554,9602,7995,8441,1517,7358],()=>a(8135)),_N_E=e.O()}]);