(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6181],{7264:(e,r,t)=>{Promise.resolve().then(t.bind(t,1669))},4695:(e,r,t)=>{"use strict";t.d(r,{tR:()=>l,tS:()=>c,Am:()=>u,cC:()=>i,C4:()=>p,iD:()=>f,c0:()=>d,Q6:()=>o});let n={inHouseBaseUrl:"https://in-house-api.dev.interatecorp.com",apiPassword:"04cdc3ec",apiId:"357C4EE703864CFFABEF16C5A22E145F",phoneXaCheckLeadUrl:t(2818).env.NEXT_PUBLIC_PHONEXA_CHECK_LEAD_URL},a=t(2651).A.create({baseURL:n.inHouseBaseUrl,timeout:1e4,headers:{"Content-Type":"application/json"}});a.interceptors.request.use(e=>{let r=localStorage.getItem("token");return r&&(e.headers.Authorization="Bearer ".concat(r)),e}),a.interceptors.response.use(e=>e,e=>(console.error("API Error:",e),Promise.reject(e)));var s=t(9602);let l=async e=>{try{var r,t;let n=await a.post("/v1/fe/personal_loan/lead/v2",e);return null===(t=n.data)||void 0===t?void 0:null===(r=t.data)||void 0===r?void 0:r.contact}catch(e){console.error("Failed to fetch")}},o=async e=>{try{var r,t;let{data:n}=await a.put("/v1/fe/personal_loan/lead/v2",e);return{step:(t={data:n},void 0===t)?void 0:null===(r=t.data)||void 0===r?void 0:r.step,...e}}catch(e){console.error("Failed to fetch")}},i=async e=>{let{lead_id:r,zip:t}=e;try{var n,s;let e=await a.post("/v1/fe/personal_loan/zipcode",{lead_id:r,zip:t});return null!==(s=null===(n=e.data)||void 0===n?void 0:n.data)&&void 0!==s?s:{}}catch(e){throw Error("Invalid ZIP code")}},c=async e=>{let{lead_id:r,address:t,lat:n,long:l,zip:o}=e;try{var i,c;let e=await a.get("/v1/fe/personal_loan/address-suggest",{params:{lead_id:r,address:t,long:l,lat:n,zip:o}}),u=null!==(c=null===(i=e.data)||void 0===i?void 0:i.suggestions)&&void 0!==c?c:[];return(0,s.X9)(u)}catch(e){return console.error("Error fetching addresses:",e),[]}},u=async e=>{try{var r,t;let{data:n}=await a.post("/v1/fe/personal_loan/aba",{bankAba:e});return null!==(t=null==n?void 0:null===(r=n.data)||void 0===r?void 0:r.name)&&void 0!==t?t:""}catch(e){throw Error("Bank ABA invalid")}},d=(e,r)=>{console.log("Sending data to PhoneXa API...");let t=new URLSearchParams(sessionStorage.getItem("url_params")||"");return new Promise(async(n,l)=>{var o,i,c;let u=(0,s.Qn)({...e,clickid:(0,s.G2)(null==r?void 0:r.utm_campaign),sub_source:sessionStorage.getItem("sub_source"),aff_id:null!==(o=t.get("pubs"))&&void 0!==o?o:"",aff_sub1:sessionStorage.getItem("utm_id"),aff_sub5:sessionStorage.getItem("ad_id"),closeConnection:1});try{let e=await a.post("/v1/fe/personal_loan/lead/send/v2",u);n(null!==(c=null===(i=e.data)||void 0===i?void 0:i.data)&&void 0!==c?c:{})}catch(e){console.error(e),l(Error("Invalid"))}})},p=(e,r,t)=>new Promise(async(n,s)=>{try{var l,o;let s=await a.get("/v1/fe/personal_loan/lead/ping/v2?checkKey=".concat(r,"&lead_id=").concat(e,"&utm_source=").concat(t));n(null!==(o=null===(l=s.data)||void 0===l?void 0:l.data)&&void 0!==o?o:{})}catch(e){console.error(e),s(null)}}),f=(e,r)=>new Promise(async(e,t)=>{let{phoneXaCheckLeadUrl:s,apiPassword:l,apiId:o}=n;if(s&&l&&o)try{var i;let t=await a.post(s,{apiPassword:l,checkKey:r,apiId:o});e(null!==(i=t.data)&&void 0!==i?i:{})}catch(e){console.error(e),t(null)}})},1669:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>v});var n=t(5155),a=t(2115);t(4670);let s=e=>{let{value:r}=e;return(0,n.jsxs)("div",{className:"progress",role:"progressbar",style:{"--progress-value":r},"data-value":r,children:[(0,n.jsxs)("div",{className:"progress-inner",children:[(0,n.jsx)("div",{className:"progress-indicator"}),(0,n.jsx)("div",{className:"progress-indicator"})]}),r&&(0,n.jsxs)("span",{className:"progress-label",children:[(0,n.jsx)("strong",{children:r}),(0,n.jsx)("span",{children:"%"})]})]})};var l=t(5884),o=t(5565),i=t(3030),c=t(4695),u=t(3391);let d=[{id:1,listId:14,question:"Do you have more than 15k in credit card and personal loan debts?",answers:["yes","no"]},{id:2,listId:13,question:"Looking to save on auto insurance?",answers:["yes","no"]},{id:3,listId:12,question:"Are you looking to improve your credit score?",answers:["yes","no"]}];function p(){let[e,r]=(0,a.useState)(0),[t,s]=(0,a.useState)(!1),l=async t=>{e<d.length-1?r(e=>e+1):s(!0)};return(0,n.jsx)("div",{className:"p-3 space-y-3 bg-gray-100 rounded-lg overflow-hidden shadow-lg",children:t?(0,n.jsx)("p",{className:"text-center font-bold",children:"Completed"}):(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsxs)("div",{className:"flex-1 grid grid-cols-2 gap-2",children:[(0,n.jsx)("p",{className:"text-[12px]",children:"Questions:"}),(0,n.jsxs)("p",{className:"text-[12px] text-right",children:[e+1," of ",d.length]}),(0,n.jsx)("p",{className:"col-span-2 font-bold",children:d[e].question})]}),(0,n.jsxs)("div",{className:"flex justify-between items-center gap-3",children:[(0,n.jsx)("button",{className:"w-full bg-white border border-gray-300 py-2 rounded-lg",onClick:()=>l("no"),children:"No"}),(0,n.jsx)("button",{className:"w-full text-white bg-green-700 py-2 rounded-lg",onClick:()=>l("yes"),children:"Yes"})]})]})})}let f=e=>{let{item:r}=e;return(0,n.jsxs)("div",{className:"bg-gray-100 rounded-lg overflow-hidden shadow-lg",children:[(0,n.jsx)(l.k,{value:r.processValue,className:"h-[10px] rounded-none"}),(0,n.jsxs)("div",{className:"flex p-3 justify-between gap-3",children:[(0,n.jsx)(o.default,{src:r.icon,alt:"loading",width:50,height:50}),(0,n.jsxs)("div",{className:"flex-1 grid grid-cols-2",children:[(0,n.jsx)("p",{className:"text-[12px]",children:r.status}),(0,n.jsxs)("p",{className:"text-[12px] text-right",children:[r.processValue,"%"]}),(0,n.jsx)("p",{className:"col-span-2 font-bold",children:r.title})]})]})]})},v=()=>{let[e,r]=(0,a.useState)(!0),[t,l]=(0,a.useState)(0),[o,d]=(0,a.useState)(null),[v,m]=(0,a.useState)([{id:1,icon:"/searching1.svg",title:"Formation of the request",status:"wait",processValue:0},{id:2,icon:"/searching2.svg",title:"Connection setup",status:"wait",processValue:0},{id:3,icon:"/searching3.svg",title:"Start the process",status:"wait",processValue:0}]),{leadData:h,campaignParams:g}=(0,u.d4)(e=>e.appData,u.bN),x=(0,a.useRef)(null),y=(0,a.useRef)(null),w=(0,a.useRef)(null),j=(0,a.useRef)(0),N=(0,a.useRef)(0),b=(0,a.useRef)(0),_=(0,a.useRef)([]),C=(0,a.useRef)([]),E=(0,a.useRef)(!1),P=(0,a.useRef)(!1),R=(0,a.useRef)(null);(0,a.useEffect)(()=>(S(),F(),A(),()=>{x.current&&clearTimeout(x.current),y.current&&clearTimeout(y.current),w.current&&clearTimeout(w.current),R.current&&clearTimeout(R.current)}),[]),(0,a.useEffect)(()=>{((null==o?void 0:o.redirect_url)||(null==o?void 0:o.rejectUrl))&&100===t&&(console.log("redirecting to",o),T())},[o,t]);let S=()=>{j.current=Date.now(),_.current=I(3,100,210),C.current=I(1,100,90)[0]},I=(e,r,t)=>{let n=[],a=0;for(let s=0;s<e;s++){let s=[];for(let n=0;n<r;n++){let n=t/(e*r)*(.5+Math.random());s.push(n),a+=n}n.push(s)}let s=t/a;return n.map(e=>e.map(e=>e*s))},A=async()=>{try{var e;let{lead_id:r,redirect_url:t,rejectUrl:n}=await (0,c.c0)(h,g);if(!r){console.error("Failed to get leadId");return}if(t||n){d({lead_id:r,redirect_url:t,rejectUrl:n}),E.current=!0,P.current=!0;return}let a=null!==(e=await (0,i.getCookie)("utm_source"))&&void 0!==e?e:"";k(r,r,a)}catch(e){console.error("API Flow Error:",e)}},k=async(e,r,t)=>{let n=async a=>{try{let s;s=t?await (0,c.C4)(e,null!=a?a:r,t):await (0,c.iD)(e,null!=a?a:r),d(s),s.redirect_url||s.rejectUrl?(E.current=!0,P.current=!0):s.lead_id&&(w.current=setTimeout(()=>{n(null==s?void 0:s.lead_id)},2e3))}catch(e){console.error("Polling Error:",e),w.current=setTimeout(n,3e3)}};await n()},T=()=>{if(!o)return;let e=o.redirect_url||o.rejectUrl;e&&(R.current=setTimeout(()=>{window.location.href=e},1e3))},F=()=>{let e;x.current&&clearTimeout(x.current);let t=N.current,n=b.current;if(t>=v.length){r(!1),y.current||V();return}if(0===n&&m(e=>{let r=[...e];return r[t]={...r[t],status:"processing",processValue:0},r}),P.current){let r=(v.length-t)*100-n;e=r>0?.3/r:.01}else e=_.current[t][n];x.current=setTimeout(()=>{let e=n+1;b.current=e,m(r=>{let n=[...r];return n[t]={...n[t],processValue:e},n}),e>=100&&(m(e=>{let r=[...e];return r[t]={...r[t],status:"finished",processValue:100},r}),N.current+=1,b.current=0),F()},1e3*e)},V=()=>{let e=0,r=()=>{let t;if(y.current&&clearTimeout(y.current),!(e>=100)){if(E.current){let r=100-e;t=r>0?.7/r:.01}else t=C.current[e];y.current=setTimeout(()=>{l(e+=1),e<100&&r()},1e3*t)}};r()};return(0,n.jsxs)(n.Fragment,{children:[e?(0,n.jsx)(n.Fragment,{children:v.map(e=>(0,n.jsx)(f,{item:e},e.id))}):(0,n.jsxs)("div",{className:"flex flex-col justify-between bg-gray-200 rounded-lg p-3 aspect-square",children:[(0,n.jsx)("h3",{className:"font-bold text-md",children:"System processing..."}),(0,n.jsx)("div",{className:"flex items-center justify-center",children:(0,n.jsx)(s,{value:t})}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-1",children:[(0,n.jsx)("p",{children:"Searching Amount:"}),(0,n.jsx)("p",{className:"font-bold text-right",children:"$500"}),(0,n.jsx)("p",{className:"col-span-2 text-[14px]",children:"1/10 Approaching lenders..."})]})]}),(0,n.jsx)(p,{})]})}},5884:(e,r,t)=>{"use strict";t.d(r,{k:()=>j});var n=t(5155),a=t(2115),s=t(8166),l=t(3360),o="Progress",[i,c]=(0,s.A)(o),[u,d]=i(o),p=a.forwardRef((e,r)=>{var t,a,s,o;let{__scopeProgress:i,value:c=null,max:d,getValueLabel:p=m,...f}=e;(d||0===d)&&!x(d)&&console.error((t="".concat(d),a="Progress","Invalid prop `max` of value `".concat(t,"` supplied to `").concat(a,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(100,"`.")));let v=x(d)?d:100;null===c||y(c,v)||console.error((s="".concat(c),o="Progress","Invalid prop `value` of value `".concat(s,"` supplied to `").concat(o,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(100," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")));let w=y(c,v)?c:null,j=g(w)?p(w,v):void 0;return(0,n.jsx)(u,{scope:i,value:w,max:v,children:(0,n.jsx)(l.sG.div,{"aria-valuemax":v,"aria-valuemin":0,"aria-valuenow":g(w)?w:void 0,"aria-valuetext":j,role:"progressbar","data-state":h(w,v),"data-value":null!=w?w:void 0,"data-max":v,...f,ref:r})})});p.displayName=o;var f="ProgressIndicator",v=a.forwardRef((e,r)=>{var t;let{__scopeProgress:a,...s}=e,o=d(f,a);return(0,n.jsx)(l.sG.div,{"data-state":h(o.value,o.max),"data-value":null!==(t=o.value)&&void 0!==t?t:void 0,"data-max":o.max,...s,ref:r})});function m(e,r){return"".concat(Math.round(e/r*100),"%")}function h(e,r){return null==e?"indeterminate":e===r?"complete":"loading"}function g(e){return"number"==typeof e}function x(e){return g(e)&&!isNaN(e)&&e>0}function y(e,r){return g(e)&&!isNaN(e)&&e<=r&&e>=0}v.displayName=f;var w=t(9602);let j=a.forwardRef((e,r)=>{let{className:t,value:a,...s}=e;return(0,n.jsx)(p,{ref:r,className:(0,w.cn)("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",t),...s,children:(0,n.jsx)(v,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(a||0),"%)")}})})});j.displayName=p.displayName},4670:()=>{},8068:(e,r,t)=>{"use strict";t.d(r,{s:()=>l,t:()=>s});var n=t(2115);function a(e,r){if("function"==typeof e)return e(r);null!=e&&(e.current=r)}function s(...e){return r=>{let t=!1,n=e.map(e=>{let n=a(e,r);return t||"function"!=typeof n||(t=!0),n});if(t)return()=>{for(let r=0;r<n.length;r++){let t=n[r];"function"==typeof t?t():a(e[r],null)}}}}function l(...e){return n.useCallback(s(...e),e)}},8166:(e,r,t)=>{"use strict";t.d(r,{A:()=>l,q:()=>s});var n=t(2115),a=t(5155);function s(e,r){let t=n.createContext(r),s=e=>{let{children:r,...s}=e,l=n.useMemo(()=>s,Object.values(s));return(0,a.jsx)(t.Provider,{value:l,children:r})};return s.displayName=e+"Provider",[s,function(a){let s=n.useContext(t);if(s)return s;if(void 0!==r)return r;throw Error(`\`${a}\` must be used within \`${e}\``)}]}function l(e,r=[]){let t=[],s=()=>{let r=t.map(e=>n.createContext(e));return function(t){let a=t?.[e]||r;return n.useMemo(()=>({[`__scope${e}`]:{...t,[e]:a}}),[t,a])}};return s.scopeName=e,[function(r,s){let l=n.createContext(s),o=t.length;t=[...t,s];let i=r=>{let{scope:t,children:s,...i}=r,c=t?.[e]?.[o]||l,u=n.useMemo(()=>i,Object.values(i));return(0,a.jsx)(c.Provider,{value:u,children:s})};return i.displayName=r+"Provider",[i,function(t,a){let i=a?.[e]?.[o]||l,c=n.useContext(i);if(c)return c;if(void 0!==s)return s;throw Error(`\`${t}\` must be used within \`${r}\``)}]},function(...e){let r=e[0];if(1===e.length)return r;let t=()=>{let t=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let a=t.reduce((r,{useScope:t,scopeName:n})=>{let a=t(e)[`__scope${n}`];return{...r,...a}},{});return n.useMemo(()=>({[`__scope${r.scopeName}`]:a}),[a])}};return t.scopeName=r.scopeName,t}(s,...r)]}},3360:(e,r,t)=>{"use strict";t.d(r,{hO:()=>i,sG:()=>o});var n=t(2115),a=t(7650),s=t(2317),l=t(5155),o=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,r)=>{let t=n.forwardRef((e,t)=>{let{asChild:n,...a}=e,o=n?s.DX:r;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,l.jsx)(o,{...a,ref:t})});return t.displayName=`Primitive.${r}`,{...e,[r]:t}},{});function i(e,r){e&&a.flushSync(()=>e.dispatchEvent(r))}},2317:(e,r,t)=>{"use strict";t.d(r,{DX:()=>l,xV:()=>i});var n=t(2115),a=t(8068),s=t(5155),l=n.forwardRef((e,r)=>{let{children:t,...a}=e,l=n.Children.toArray(t),i=l.find(c);if(i){let e=i.props.children,t=l.map(r=>r!==i?r:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,s.jsx)(o,{...a,ref:r,children:n.isValidElement(e)?n.cloneElement(e,void 0,t):null})}return(0,s.jsx)(o,{...a,ref:r,children:t})});l.displayName="Slot";var o=n.forwardRef((e,r)=>{let{children:t,...s}=e;if(n.isValidElement(t)){let e=function(e){let r=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning)?e.props.ref:e.props.ref||e.ref}(t),l=function(e,r){let t={...r};for(let n in r){let a=e[n],s=r[n];/^on[A-Z]/.test(n)?a&&s?t[n]=(...e)=>{s(...e),a(...e)}:a&&(t[n]=a):"style"===n?t[n]={...a,...s}:"className"===n&&(t[n]=[a,s].filter(Boolean).join(" "))}return{...e,...t}}(s,t.props);return t.type!==n.Fragment&&(l.ref=r?(0,a.t)(r,e):e),n.cloneElement(t,l)}return n.Children.count(t)>1?n.Children.only(null):null});o.displayName="SlotClone";var i=({children:e})=>(0,s.jsx)(s.Fragment,{children:e});function c(e){return n.isValidElement(e)&&e.type===i}}},e=>{var r=r=>e(e.s=r);e.O(0,[5927,3852,8181,5565,9602,8441,1517,7358],()=>r(7264)),_N_E=e.O()}]);