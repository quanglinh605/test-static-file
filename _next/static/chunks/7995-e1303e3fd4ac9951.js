"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7995],{4695:(e,a,t)=>{t.d(a,{tR:()=>s,tS:()=>l,Am:()=>c,cC:()=>o,C4:()=>u,iD:()=>p,c0:()=>m,Q6:()=>d});let r={inHouseBaseUrl:"https://in-house-api.dev.interatecorp.com",apiPassword:"04cdc3ec",apiId:"357C4EE703864CFFABEF16C5A22E145F",phoneXaCheckLeadUrl:t(2818).env.NEXT_PUBLIC_PHONEXA_CHECK_LEAD_URL},n=t(2651).A.create({baseURL:r.inHouseBaseUrl,timeout:1e4,headers:{"Content-Type":"application/json"}});n.interceptors.request.use(e=>{let a=localStorage.getItem("token");return a&&(e.headers.Authorization="Bearer ".concat(a)),e}),n.interceptors.response.use(e=>e,e=>(console.error("API Error:",e),Promise.reject(e)));var i=t(9602);let s=async e=>{try{var a,t;let r=await n.post("/v1/fe/personal_loan/lead/v2",e);return null===(t=r.data)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.contact}catch(e){console.error("Failed to fetch")}},d=async e=>{try{var a,t;let{data:r}=await n.put("/v1/fe/personal_loan/lead/v2",e);return{step:(t={data:r},void 0===t)?void 0:null===(a=t.data)||void 0===a?void 0:a.step,...e}}catch(e){console.error("Failed to fetch")}},o=async e=>{let{lead_id:a,zip:t}=e;try{var r,i;let e=await n.post("/v1/fe/personal_loan/zipcode",{lead_id:a,zip:t});return null!==(i=null===(r=e.data)||void 0===r?void 0:r.data)&&void 0!==i?i:{}}catch(e){throw Error("Invalid ZIP code")}},l=async e=>{let{lead_id:a,address:t,lat:r,long:s,zip:d}=e;try{var o,l;let e=await n.get("/v1/fe/personal_loan/address-suggest",{params:{lead_id:a,address:t,long:s,lat:r,zip:d}}),c=null!==(l=null===(o=e.data)||void 0===o?void 0:o.suggestions)&&void 0!==l?l:[];return(0,i.X9)(c)}catch(e){return console.error("Error fetching addresses:",e),[]}},c=async e=>{try{var a,t;let{data:r}=await n.post("/v1/fe/personal_loan/aba",{bankAba:e});return null!==(t=null==r?void 0:null===(a=r.data)||void 0===a?void 0:a.name)&&void 0!==t?t:""}catch(e){throw Error("Bank ABA invalid")}},m=(e,a)=>{console.log("Sending data to PhoneXa API...");let t=new URLSearchParams(sessionStorage.getItem("url_params")||"");return new Promise(async(r,s)=>{var d,o,l;let c=(0,i.Qn)({...e,clickid:(0,i.G2)(null==a?void 0:a.utm_campaign),sub_source:sessionStorage.getItem("sub_source"),aff_id:null!==(d=t.get("pubs"))&&void 0!==d?d:"",aff_sub1:sessionStorage.getItem("utm_id"),aff_sub5:sessionStorage.getItem("ad_id"),closeConnection:1});try{let e=await n.post("/v1/fe/personal_loan/lead/send/v2",c);r(null!==(l=null===(o=e.data)||void 0===o?void 0:o.data)&&void 0!==l?l:{})}catch(e){console.error(e),s(Error("Invalid"))}})},u=(e,a,t)=>new Promise(async(r,i)=>{try{var s,d;let i=await n.get("/v1/fe/personal_loan/lead/ping/v2?checkKey=".concat(a,"&lead_id=").concat(e,"&utm_source=").concat(t));r(null!==(d=null===(s=i.data)||void 0===s?void 0:s.data)&&void 0!==d?d:{})}catch(e){console.error(e),i(null)}}),p=(e,a)=>new Promise(async(e,t)=>{let{phoneXaCheckLeadUrl:i,apiPassword:s,apiId:d}=r;if(i&&s&&d)try{var o;let t=await n.post(i,{apiPassword:s,checkKey:a,apiId:d});e(null!==(o=t.data)&&void 0!==o?o:{})}catch(e){console.error(e),t(null)}})},4085:(e,a,t)=>{t.d(a,{$:()=>c,r:()=>l});var r=t(5155),n=t(2115),i=t(2317),s=t(1027),d=t(9602),o=t(2783);let l=(0,s.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-sm font-bold transition-all focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 tracking-wide",{variants:{variant:{default:"bg-primary text-black active:border-b-2 hover:bg-green-500 hover:text-white text-slate-500",primary:"bg-white text-white border-2 hover:bg-lightYellow border-lightYellow border-b-4 active:border-b-0 active:bg-lightYellow",primaryOutline:"bg-white text-sky-500 hover:bg-slate-100",previous:"bg-slate-200 hover:bg-slate-300"},size:{default:"h-11 px-4 py-2",sm:"h-9 px-3",lg:"h-12 px-8",icon:"h-10 w-10",rounded:"rounded-full"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef((e,a)=>{let{className:t,loading:n=!1,children:s,disabled:c,variant:m,size:u,asChild:p=!1,...g}=e,v=p?i.DX:"button";return(0,r.jsx)(v,{className:(0,d.cn)(l({variant:m,size:u,className:t})),ref:a,disabled:n||c,...g,children:(0,r.jsx)(i.xV,{children:n?(0,r.jsx)(o.A,{className:"mr-2 h-5 w-5 animate-spin"}):s})})});c.displayName="Button"},4035:(e,a,t)=>{t.d(a,{lV:()=>m,MJ:()=>h,zB:()=>p,eI:()=>f,lR:()=>b,C5:()=>y});var r=t(5155),n=t(2115),i=t(2317),s=t(9606),d=t(9602),o=t(6195);let l=(0,t(1027).F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=n.forwardRef((e,a)=>{let{className:t,...n}=e;return(0,r.jsx)(o.b,{ref:a,className:(0,d.cn)(l(),t),...n})});c.displayName=o.b.displayName;let m=s.Op,u=n.createContext({}),p=e=>{let{...a}=e;return(0,r.jsx)(u.Provider,{value:{name:a.name},children:(0,r.jsx)(s.xI,{...a})})},g=()=>{let e=n.useContext(u),a=n.useContext(v),{getFieldState:t,formState:r}=(0,s.xW)(),i=t(e.name,r);if(!e)throw Error("useFormField should be used within <FormField>");let{id:d}=a;return{id:d,name:e.name,formItemId:"".concat(d,"-form-item"),formDescriptionId:"".concat(d,"-form-item-description"),formMessageId:"".concat(d,"-form-item-message"),...i}},v=n.createContext({}),f=n.forwardRef((e,a)=>{let{className:t,...i}=e,s=n.useId();return(0,r.jsx)(v.Provider,{value:{id:s},children:(0,r.jsx)("div",{ref:a,className:(0,d.cn)("space-y-2",t),...i})})});f.displayName="FormItem";let b=n.forwardRef((e,a)=>{let{className:t,...n}=e,{error:i,formItemId:s}=g();return(0,r.jsx)(c,{ref:a,className:(0,d.cn)(i&&"text-destructive",t),htmlFor:s,...n})});b.displayName="FormLabel";let h=n.forwardRef((e,a)=>{let{...t}=e,{error:n,formItemId:s,formDescriptionId:d,formMessageId:o}=g();return(0,r.jsx)(i.DX,{ref:a,id:s,"aria-describedby":n?"".concat(d," ").concat(o):"".concat(d),"aria-invalid":!!n,...t})});h.displayName="FormControl",n.forwardRef((e,a)=>{let{className:t,...n}=e,{formDescriptionId:i}=g();return(0,r.jsx)("p",{ref:a,id:i,className:(0,d.cn)("text-[0.8rem] text-muted-foreground",t),...n})}).displayName="FormDescription";let y=n.forwardRef((e,a)=>{var t;let{className:n,children:i,...s}=e,{error:o,formMessageId:l}=g(),c=o?String(null!==(t=null==o?void 0:o.message)&&void 0!==t?t:""):i;return c?(0,r.jsx)("p",{ref:a,id:l,className:(0,d.cn)("text-[0.8rem] font-medium text-destructive",n),...s,children:c}):null});y.displayName="FormMessage"},5398:(e,a,t)=>{t.d(a,{AY:()=>s,Cc:()=>h,F8:()=>j,Fh:()=>i,GK:()=>_,NO:()=>b,P5:()=>c,Pn:()=>o,Qs:()=>v,RG:()=>g,Tv:()=>A,Ue:()=>x,aq:()=>l,ck:()=>C,g1:()=>I,iW:()=>N,im:()=>D,j6:()=>z,n7:()=>u,oL:()=>m,p9:()=>p,pF:()=>y,pW:()=>f,vY:()=>w,y4:()=>d});var r=t(9602),n=t(3415);let i=n.z.object({loanAmount:n.z.string().min(1,"Loan amount is required"),loanReason:n.z.string().min(1,"Loan reason is required"),zip:n.z.string().regex(/^\d{5}$/,"Invalid ZIP code")}),s=n.z.object({firstName:n.z.string().min(1,"First name is required"),lastName:n.z.string().min(1,"Last name is required")}),d=n.z.object({email:n.z.string().email("Invalid email address")}),o=n.z.object({month:n.z.string().min(1,"Month is required"),day:n.z.string().min(1,"Day is required"),year:n.z.string().min(4,"Year is required")}).refine(r.qZ,{message:"You must be at least 18 years old",path:["year"]}),l=n.z.object({cellPhone:n.z.string().regex(/^\(\d{3}\)-\d{3}-\d{4}$/,"Invalid phone format. Use (223)-123-1231").refine(e=>"1"!==e[1],{message:"The first digit cannot be 1"})}),c=n.z.object({contactTime:n.z.string().min(1,"Loan amount is required")}),m=n.z.object({address:n.z.string().min(1,"Address is required")}),u=n.z.object({time_at_residence:n.z.string().min(1,"Time at residence is required"),addressLengthMonths:n.z.number().min(1,"Address length month is required")}),p=n.z.object({ownHome:n.z.string().min(1,"Own home is required")}),g=n.z.object({incomeType:n.z.string().min(1,"income type is required")}),v=n.z.object({workTimeAtEmployer:n.z.number().min(1,"Work time at employer is required")}),f=n.z.object({incomePaymentFrequency:n.z.string().min(1,"Income payment frequency is required")}),b=n.z.object({incomeNetMonthly:n.z.number().min(1,"Income net monthly is required")}),h=n.z.object({incomeNextDate1:n.z.string().min(1,"Income Next Date 1 is required").refine(e=>!isNaN(Date.parse(e)),{message:"Invalid date format"}),incomeNextDate2:n.z.string().min(1,"Income Next Date 2 is required").refine(e=>!isNaN(Date.parse(e)),{message:"Invalid date format"})}),y=n.z.object({workCompanyName:n.z.string().min(2,"Employer name must be 2 digits").max(128,"Employer name must be 128 digits"),jobTitle:n.z.string().min(2,"Job title must be 2 digits").max(128,"Job title must be 128 digits")}),z=n.z.object({workPhone:n.z.string().regex(/^\(\d{3}\)-\d{3}-\d{4}$/,"Invalid phone format. Use (123)-123-1231").refine(e=>"1"!==e[1],{message:"The first digit cannot be 1"})}),w=n.z.object({bankDirectDeposit:n.z.string().min(1,"Bank direct deposit is required")}),x=n.z.object({bankName:n.z.string().min(1,"ABA is required"),bankAba:n.z.string().min(1,"ABA is required")}),j=n.z.object({bankAccountType:n.z.string().min(1,"Bank account type is required")}),C=n.z.object({bankAccountLengthMonths:n.z.number().min(1,"Bank account length months is required")}),D=n.z.object({bankAccountNumber:n.z.string().min(4,"Bank account number must be at least 4 characters").max(30,"Bank account number must not exceed 30 characters")}),N=n.z.object({own_car:n.z.string().min(1,"Own car is required")}),I=n.z.object({driversLicenseNumber:n.z.string().min(1,"Drivers license number must be at least 1 digits long").max(19,"Drivers license number cannot exceed 19 digits"),driversLicenseState:n.z.string().min(1,"State is required")}),A=n.z.object({creditScore:n.z.string().min(1,"Credit score is required")}),_=n.z.object({ssn:n.z.string().regex(/^\(\d{3}\)-\d{2}-\d{4}$/,"Invalid SSN format. Use (123)-12-1231")})},5699:(e,a,t)=>{t.d(a,{I:()=>i});var r=t(9446),n=t(6046);function i(){var e;let a=(0,n.useRouter)(),t=(0,n.usePathname)(),i=r.A.findIndex(e=>(null==e?void 0:e.path)===t);return{currentStep:null===(e=r.A[i])||void 0===e?void 0:e.step,totalSteps:r.A.reduce((e,a)=>void 0!==a.step?e+1:e,0)-2,nextStep:e=>{if(e)a.push(e);else{let e=r.A.find(e=>e.step===i+1);e&&a.push(e.path)}},prevStep:e=>{if(e)a.push(e);else{let e=r.A.find(e=>e.step===i-1);e&&a.push(e.path)}}}}},287:(e,a,t)=>{t.d(a,{s:()=>d});var r=t(2679),n=t(9606),i=t(3391),s=t(5699);function d(e,a){let t=(0,i.wA)(),{nextStep:d,currentStep:o}=(0,s.I)(),l=(0,i.d4)(e=>e.appData.loading);return{form:(0,n.mN)({resolver:(0,r.u)(e),defaultValues:a}),dispatch:t,nextStep:d,currentStep:o,loading:l}}},6724:(e,a,t)=>{t.d(a,{$0:()=>l,AQ:()=>d,Ay:()=>u,Id:()=>m,VF:()=>s,jU:()=>c,sK:()=>o,y9:()=>i});var r=t(9442),n=t(4695);let i=(0,r.zD)("api/addLead",async e=>({createLeadData:await (0,n.tR)(e)})),s=(0,r.zD)("api/addLeadLocalStep",e=>e),d=(0,r.zD)("api/updateLead",async e=>({updatedLeadData:await (0,n.Q6)(e)})),o=(0,r.zD)("api/getZipInfo",async(e,a)=>{let{lead_id:t,zip:r}=e,{rejectWithValue:i}=a;try{return await (0,n.cC)({lead_id:t,zip:r})}catch(e){return i(null==e?void 0:e.message)}}),l=(0,r.zD)("address/fetchAddresses",async(e,a)=>{let{lead_id:t,address:r,lat:i,long:s,zip:d}=e,{rejectWithValue:o}=a;try{return await (0,n.tS)({lead_id:t,address:r,lat:i,long:s,zip:d})}catch(e){return o(null==e?void 0:e.message)}}),c=(0,r.zD)("api/bankName",async(e,a)=>{let{rejectWithValue:t}=a;try{return await (0,n.Am)(e)}catch(e){return t(null==e?void 0:e.message)}}),m=(0,r.zD)("api/addCampaignParams",e=>e),u=(0,r.Z0)({name:"data",initialState:{leadData:{},leadResponse:{},addressOptions:[],campaignParams:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(i.pending,e=>{e.loading=!0}).addCase(i.fulfilled,(e,a)=>{e.leadResponse={...e.leadResponse,...a.payload.createLeadData},e.leadData.email=a.payload.createLeadData.email,e.loading=!1}).addCase(i.rejected,e=>{e.loading=!1}).addCase(d.pending,e=>{e.loading=!0}).addCase(d.fulfilled,(e,a)=>{e.leadData={...e.leadData,...a.payload.updatedLeadData},e.loading=!1}).addCase(d.rejected,e=>{e.loading=!1}).addCase(o.pending,e=>{e.loading=!0}).addCase(o.fulfilled,(e,a)=>{e.leadData={...e.leadData,...a.payload},e.loading=!1,e.error=null}).addCase(o.rejected,(e,a)=>{e.loading=!1,e.error=a.payload}).addCase(s.pending,e=>{e.loading=!0}).addCase(s.fulfilled,(e,a)=>{e.leadData={...e.leadData,...a.payload},e.loading=!1}).addCase(s.rejected,e=>{e.loading=!1}).addCase(l.pending,e=>{e.loading=!0}).addCase(l.fulfilled,(e,a)=>{e.loading=!1,e.addressOptions=a.payload}).addCase(l.rejected,e=>{e.loading=!1}).addCase(c.pending,e=>{e.loading=!0}).addCase(c.fulfilled,(e,a)=>{e.loading=!1,e.leadData.bankName=a.payload,e.error=null}).addCase(c.rejected,(e,a)=>{e.loading=!1,e.error=a.payload}).addCase(m.pending,e=>{e.loading=!0}).addCase(m.fulfilled,(e,a)=>{e.campaignParams={...e.campaignParams,...a.payload},e.loading=!1}).addCase(m.rejected,e=>{e.loading=!1})}}).reducer}}]);